(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9072828"],{"876e":function(e,t,r){},"9bd6":function(e,t,r){"use strict";r("876e")},eae9:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sys-server-status-container"},[r("el-card",{staticClass:"status-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("span",[e._v("运行环境")])]},proxy:!0}])},[r("el-descriptions",{attrs:{column:1,"label-style":{width:"50%"}}},[r("el-descriptions-item",{attrs:{label:"操作系统"}},[e._v(" "+e._s(e.runtime.os)+" ")]),r("el-descriptions-item",{attrs:{label:"系统架构"}},[e._v(" "+e._s(e.runtime.arch)+" ")]),r("el-descriptions-item",{attrs:{label:"Node版本"}},[r("el-tag",{attrs:{size:"small"}},[e._v("v"+e._s(e.runtime.nodeVersion))])],1),r("el-descriptions-item",{attrs:{label:"NPM版本"}},[r("el-tag",{attrs:{size:"small"}},[e._v("v"+e._s(e.runtime.npmVersion))])],1)],1)],1),r("el-card",{staticClass:"status-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("span",[e._v("CPU")])]},proxy:!0}])},[r("el-descriptions",{attrs:{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}}},[r("el-descriptions-item",{attrs:{label:"详细"}},[e._v(" "+e._s(e.parseCpuInfo)+" ")]),r("el-descriptions-item",{attrs:{label:"负载"}},[r("el-progress",{attrs:{percentage:e.formarPercentage(e.cpu.rawCurrentLoad,e.cpu.rawCurrentLoadIdle+e.cpu.rawCurrentLoad),color:e.custonProgressColor}})],1),e._l(e.cpu.coresLoad,(function(t,s){return r("el-descriptions-item",{key:s,attrs:{label:"核心"+(s+1)+" 负载"}},[r("el-progress",{attrs:{percentage:e.formarPercentage(t.rawLoad,t.rawLoad+t.rawLoadIdle),color:e.custonProgressColor}})],1)}))],2)],1),r("el-card",{staticClass:"status-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("span",[e._v("磁盘")])]},proxy:!0}])},[r("div",{staticClass:"disk-info"},[r("el-descriptions",{staticClass:"disk-info--item",attrs:{column:1}},[r("el-descriptions-item",{attrs:{label:"总空间"}},[e._v(" "+e._s(e.formatDiskUnit.size)+" ")]),r("el-descriptions-item",{attrs:{label:"已用空间"}},[e._v(" "+e._s(e.formatDiskUnit.used)+" ")]),r("el-descriptions-item",{attrs:{label:"可用空间"}},[e._v(" "+e._s(e.formatDiskUnit.available)+" ")])],1),r("div",{staticClass:"disk-info--item"},[r("el-progress",{attrs:{type:"dashboard",percentage:e.parseDiskPercentage,width:100,color:e.custonProgressColor}})],1)],1)]),r("el-card",{staticClass:"status-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("span",[e._v("内存")])]},proxy:!0}])},[r("div",{staticClass:"disk-info"},[r("el-descriptions",{staticClass:"disk-info--item",attrs:{column:1}},[r("el-descriptions-item",{attrs:{label:"总内存"}},[e._v(e._s(e.formatMemoryUnit.total)+" ")]),r("el-descriptions-item",{attrs:{label:"已用内存"}},[e._v(" "+e._s(e.formatMemoryUnit.used)+" ")]),r("el-descriptions-item",{attrs:{label:"可用内存"}},[e._v(" "+e._s(e.formatMemoryUnit.free)+" ")])],1),r("div",{staticClass:"disk-info--item"},[r("el-progress",{attrs:{type:"dashboard",percentage:e.parseMemoryPercentage,width:100,color:e.custonProgressColor}})],1)],1)])],1)},a=[],i=r("1da1"),o=(r("96cf"),r("99af"),r("dde5")),n=r("ed08"),c={name:"SystemMonitorServe",data:function(){return{intervalId:-1,runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,speedMax:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}},computed:{formatDiskUnit:function(){return{size:Object(n["c"])(this.disk.size),used:Object(n["c"])(this.disk.used),available:Object(n["c"])(this.disk.available)}},formatMemoryUnit:function(){return{total:Object(n["c"])(this.memory.total),free:Object(n["c"])(this.memory.available),used:Object(n["c"])(this.memory.total-this.memory.available)}},parseDiskPercentage:function(){if(this.disk.size<=0)return 0;var e=Math.floor(this.disk.used/this.disk.size*100);return e>100?100:e},parseMemoryPercentage:function(){if(this.memory.total<=0)return 0;var e=Math.floor((this.memory.total-this.memory.available)/this.memory.total*100);return e>100?100:e},parseCpuInfo:function(){return"".concat(this.cpu.manufacturer," ").concat(this.cpu.brand," @ ").concat(this.cpu.speed,"GHz")}},created:function(){this.refresh()},mounted:function(){this.intervalId=setInterval(this.refresh,1e4)},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{refresh:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["o"].getServerStatus();case 3:r=t.sent,s=r.data.data,e.runtime=s.runtime,e.disk=s.disk,e.memory=s.memory,e.cpu=s.cpu,t.next=17;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error("loginLog.getLoginLogListByPage-error:",t.t0),e.tableLoading=!1,a=t.t0&&t.t0.data.message||"发生了一些未知的错误，请重试！",e.$message.error(a);case 17:case"end":return t.stop()}}),t,null,[[0,11]])})))()},custonProgressColor:function(e){return e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f"},formarPercentage:function(e,t){return t<=0?0:Math.floor(e/t*100)}}},l=c,d=(r("9bd6"),r("2877")),u=Object(d["a"])(l,s,a,!1,null,"b1b0bb54",null);t["default"]=u.exports}}]);